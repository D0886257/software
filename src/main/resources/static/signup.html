<!doctype html>
<html lang="en">
<head>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">

  <title>FCU Shop</title>
</head>
<body>


<div class="wrapper">
  <div class="logo"> <img src="https://i.imgur.com/KvAKpUw.png" alt=""> </div>
  <div class="text-center mt-4 name"> crazy shopping </div>
  <form class="p-3 mt-3">

    <div class="form-field d-flex align-items-center"> <span class="far fa-user"></span>
      <input type="text" name="username" id="username" placeholder="Username">
    </div>
    <div class="form-field d-flex align-items-center"> <span class="fas fa-name"></span>
      <input type="text" name="name" id="name" placeholder="Name">
    </div>
    <div class="form-field d-flex align-items-center"> <span class="fas fa-key"></span>
      <input type="password" name="password" id="password" placeholder="Password">
    </div>
    <div class="form-field d-flex align-items-center"> <span class="fas fa-mail"></span>
      <input type="email" name="email" id="email" placeholder="Mail">
    </div>
    <div class="form-field d-flex align-items-center"> <span class="fas fa-phone"></span>
      <input type="phone" name="phone" id="phone" placeholder="Phone">
    </div>
    <button type="submit" class="btn mt-3" id="signupBtn">Signup</button>
  </form>
  <div class="text-center fs-6"> already have account! <a href="login.html">Log in</a> </div>

</div>


<!-- Optional JavaScript; choose one of the two! -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p"
        crossorigin="anonymous"></script>

<!-- Option 2: Separate Popper and Bootstrap JS -->
<!--
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.10.2/dist/umd/popper.min.js" integrity="sha384-7+zCNj/IqJ95wo16oMtfsKbZ9ccEh31eOz1HGyDuCQ6wgnyJNSYdrPa03rtR1zdB" crossorigin="anonymous"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.min.js" integrity="sha384-QJHtvGhmr9XOIpI6YVutG+2QOK9T+ZnN4kzFN1RtK3zEFEIsxhlmWl5/YESvpZ13" crossorigin="anonymous"></script>
-->

<script>
  $( document ).ready( function() {
    $('#alertSuccess').hide();
    emptySignupFields();
    console.log( "ready!" );
  });


  $('#signupBtn').click(function() {

    const username = $('#username').val();
    const name     = $('#name').val();
    const password = $('#password').val();
    const email = $('#email').val();
    const phone = $('#phone').val();

    $.ajax({
      type: "POST",
      contentType:"application/json; charset=utf-8",
      url: "register",
      data: '{"username":"' + username + '", "name":"' + name + '", "password":"' + password + '", "email":"' + email + '", "phone":"' + phone + '"}',
      dataType : "json"
    }).done(function( json ) {
      let newuser = json;
      $('#alertSuccess').fadeIn();
      $('#alertSuccessUsername').text(newuser.username);
      emptySignupFields();
    })
    // Code to run if the request fails; the raw request and
    // status codes are passed to the function
    .fail(function( xhr, status, errorThrown ) {
      console.log( "Sorry, there was a problem!" );
      console.log( "Error: " + errorThrown );
      console.log( "Status: " + status );
      console.dir( xhr );
    })
    // Code to run regardless of success or failure;
    .always(function( xhr, status ) {
      console.log( "The request is complete!" );
    });
  });

  function emptySignupFields() {
    $('#username').val("");
    $('#name').val("");
    $('#password').val("");
    $('#email').val("");
    $('#phone').val("");
  }

</script>
</body>
</html>


<style type="text/css">
     @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&display=swap');

 * {
     margin: 0;
     padding: 0;
     box-sizing: border-box;
     font-family: 'Poppins', sans-serif
 }

 body {
     background: #ecf0f3
 }

 .wrapper {
     max-width: 350px;
     min-height: 500px;
     margin: 80px auto;
     padding: 40px 30px 30px 30px;
     background-color: #ecf0f3;
     border-radius: 15px;
     box-shadow: 13px 13px 20px #cbced1, -13px -13px 20px #fff
 }

 .logo {
     width: 80px;
     margin: auto
 }

 .logo img {
     width: 100%;
     height: 80px;
     object-fit: cover;
     border-radius: 50%;
     box-shadow: 0px 0px 3px #5f5f5f, 0px 0px 0px 5px #ecf0f3, 8px 8px 15px #a7aaa7, -8px -8px 15px #fff
 }

 .wrapper .name {
     font-weight: 600;
     font-size: 1.4rem;
     letter-spacing: 1.3px;
     padding-left: 10px;
     color: #555
 }

 .wrapper .form-field input {
     width: 100%;
     display: block;
     border: none;
     outline: none;
     background: none;
     font-size: 1.2rem;
     color: #666;
     padding: 10px 15px 10px 10px
 }

 .wrapper .form-field {
     padding-left: 10px;
     margin-bottom: 20px;
     border-radius: 20px;
     box-shadow: inset 8px 8px 8px #cbced1, inset -8px -8px 8px #fff
 }

 .wrapper .form-field .fas {
     color: #555
 }

 .wrapper .btn {
     box-shadow: none;
     width: 100%;
     height: 40px;
     background-color: #03A9F4;
     color: #fff;
     border-radius: 25px;
     box-shadow: 3px 3px 3px #b1b1b1, -3px -3px 3px #fff;
     letter-spacing: 1.3px
 }

 .wrapper .btn:hover {
     background-color: #039BE5
 }

 .wrapper a {
     text-decoration: none;
     font-size: 0.8rem;
     color: #03A9F4
 }

 .wrapper a:hover {
     color: #039BE5
 }

 @media(max-width: 380px) {
     .wrapper {
         margin: 30px 20px;
         padding: 40px 15px 15px 15px
     }
 }
</style>